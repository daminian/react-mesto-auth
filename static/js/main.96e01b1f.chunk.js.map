{"version":3,"sources":["images/logo.svg","images/success.svg","images/error.svg","components/Footer.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","components/Login.js","components/Register.js","components/InfoTooltip.js","components/ProtectedRoute.js","utils/mestoAuth.js","components/App.js","index.js"],"names":["module","exports","Footer","className","Header","onLinkClick","email","localStorage","getItem","src","logo","alt","path","to","exact","onClick","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","link","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","style","backgroundImage","avatar","about","map","item","key","PopupWithForm","title","cildren","isOpen","onClose","onSubmit","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","required","minLength","maxLength","placeholder","onChange","e","target","value","id","preventDefault","EditAvatarPopup","onUpdateAvatar","userAvatar","useRef","defaultValue","ref","current","AddPlacePopup","onAddPlaseSubmit","setLink","ImagePopup","state","api","options","this","_url","url","_headers","headers","data","fetch","method","authorization","body","JSON","stringify","then","res","ok","json","Promise","reject","status","Error","_addLike","_deliteLike","all","getInitialCards","getUserInfo","Login","handleLogin","password","setData","handleChange","htmlFor","Register","handleRegister","InfoTooltip","text","ProtectedRoute","Component","component","props","loggedIn","BASE_URL","checkResponce","withRouter","setCurrentUser","setCards","editProfileIsOpen","isEditProfilePopupOpen","addCardIsOpen","isAddPlacePopupOpen","editAvatarIsOpen","isEditAvatarPopupOpen","selectedCard","setSelectedCard","infoTooltipIsOpen","isinfoTooltipOpen","setLoggedIn","history","useHistory","closeAllPopups","getAppInfo","userInfo","user","cardsList","catch","err","console","log","token","mestoAuth","push","error","tokenCheck","Provider","clear","linkText","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","setItem","success","updateProfileInfo","updateAvatar","postNewCard","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oGAAAA,EAAOC,QAAU,IAA0B,kC,mBCA3CD,EAAOC,QAAU,IAA0B,qC,mBCA3CD,EAAOC,QAAU,IAA0B,mC,iLCU5BC,MARf,WACI,OACI,4BAAQC,UAAU,wBAClB,uBAAGA,UAAU,qBAAb,4B,iBCsBOC,MAvBf,YAAgC,IAAfC,EAAc,EAAdA,YACPC,EAAQC,aAAaC,QAAQ,SACnC,OACI,4BAAQL,UAAU,wBAClB,yBAAKA,UAAU,gBACX,yBAAKM,IAAKC,IAAMC,IAAI,GAAGR,UAAU,iBACjC,yBAAKA,UAAU,mBACX,uBAAGA,UAAU,iBAAiBG,GAC9B,kBAAC,IAAD,CAAOM,KAAK,YACR,kBAAC,IAAD,CAAMT,UAAU,eAAeU,GAAG,YAAlC,mCAEJ,kBAAC,IAAD,CAAOD,KAAK,YACR,kBAAC,IAAD,CAAMT,UAAU,eAAeU,GAAG,YAAlC,uEAEJ,kBAAC,IAAD,CAAOC,OAAK,EAACF,KAAK,KACd,kBAAC,IAAD,CAAMT,UAAU,eAAeU,GAAG,WAAWE,QAASV,GAAtD,uCClBPW,EAAqBC,IAAMC,gBCwCzBC,EAtCF,SAAC,GAAmD,IAAlDC,EAAiD,EAAjDA,KAAMC,EAA2C,EAA3CA,YAAaC,EAA8B,EAA9BA,WAAYC,EAAkB,EAAlBA,aAEpCC,EAAcP,IAAMQ,WAAWT,GAC/BU,EAAQN,EAAKO,MAAMC,MAAQJ,EAAYI,IACvCC,EAAyB,uBACXH,EAAQ,GAAK,uBAG3BI,EAAUV,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,EAAYI,OACrDM,EAAuB,sBACVJ,EAAU,qBAAuB,IAepD,OACI,yBAAK3B,UAAU,SACX,4BAAQgC,KAAK,SAAShC,UAAW0B,EAA2Bd,QANpE,WACIQ,EAAaH,MAMT,yBAAKX,IAAG,UAAKW,EAAKgB,MAAQzB,IAAI,GAAGR,UAAU,eAAeY,QAflE,WACIM,EAAYD,MAeR,wBAAIjB,UAAU,eAAeiB,EAAKiB,MAClC,yBAAKlC,UAAU,yBACX,4BAAQA,UAAW+B,EAAyBnB,QAdxD,WACIO,EAAWF,MAcH,0BAAMjB,UAAU,uBAAuBiB,EAAKW,MAAMO,WCTnDC,EAtBF,SAAC,GAA6F,IAA5FC,EAA2F,EAA3FA,cAAeC,EAA4E,EAA5EA,WAAYC,EAAgE,EAAhEA,aAAcrB,EAAkD,EAAlDA,YAAasB,EAAqC,EAArCA,MAAOrB,EAA8B,EAA9BA,WAAYC,EAAkB,EAAlBA,aAE9EC,EAAcP,IAAMQ,WAAWT,GAErC,OACI,0BAAMb,UAAU,sBAChB,6BAASA,UAAU,WACf,yBAAKA,UAAU,oBACX,yBAAKA,UAAU,kBAAkBY,QAAS2B,GAAc,yBAAKE,MAAO,CAAEC,gBAAgB,OAAD,OAASrB,EAAYsB,OAArB,MAAkCnC,IAAI,GAAGR,UAAU,oBACxI,wBAAIA,UAAU,iBAAiBqB,EAAYa,MAC3C,uBAAGlC,UAAU,gBAAgBqB,EAAYuB,OACzC,4BAAQ5C,UAAU,iBAAiBY,QAASyB,KAEhD,4BAAQrC,UAAU,eAAeY,QAAS0B,KAE9C,6BAAStC,UAAU,QACdwC,EAAMK,KAAI,SAAAC,GAAI,OAAI,kBAAC,EAAD,CAAMC,IAAKD,EAAKrB,IAAKR,KAAM6B,EAAM5B,YAAaA,EAAaC,WAAYA,EAAYC,aAAcA,UCLjH4B,EAbO,SAAC,GAAuD,IAAtDd,EAAqD,EAArDA,KAAMe,EAA+C,EAA/CA,MAAOC,EAAwC,EAAxCA,QAASC,EAA+B,EAA/BA,OAAQC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,SAC3D,OAAQ,6BAASrD,UAAS,sBAAiBkC,EAAjB,YAAyBiB,EAAU,eAAiB,KAC1E,yBAAKnD,UAAU,oBACX,4BAAQgC,KAAK,SAAShC,UAAU,eAAeY,QAASwC,IACxD,0BAAMpD,UAAU,cAAckC,KAAMA,EAAMoB,YAAU,EAACD,SAAUA,GAC3D,wBAAIrD,UAAU,qCAAqCiD,GAClDC,EACD,4BAAQlB,KAAK,SAAShC,UAAU,iBAAhC,8DCwCDuD,MA7Cf,YAA4D,IAAjCJ,EAAgC,EAAhCA,OAAQC,EAAwB,EAAxBA,QAASI,EAAe,EAAfA,aAElCnC,EAAcP,IAAMQ,WAAWT,GAFkB,EAG/BC,IAAM2C,SAAS5C,EAAmBqB,MAHH,mBAGhDA,EAHgD,KAG1CwB,EAH0C,OAIjB5C,IAAM2C,SAAS5C,EAAmB+B,OAJjB,mBAIhDe,EAJgD,KAInCC,EAJmC,KA2BvD,OALA9C,IAAM+C,WAAU,WACZH,EAAQrC,EAAYa,MACpB0B,EAAevC,EAAYuB,SAC1B,CAACvB,IAGF,kBAAC,EAAD,CAAea,KAAK,UAAUe,MAAM,4HAAwBC,QACxD,oCACA,2BAAOlD,UAAU,gBACjB,2BAAOgC,KAAK,OAAOE,KAAK,OAAOlC,UAAU,2BAA2B8D,UAAQ,EAACC,UAAU,IACnFC,UAAU,KAAKC,YAAY,qBAAMC,SA1B7C,SAA0BC,GACtBT,EAAQS,EAAEC,OAAOC,QAyBoDA,MAAOnC,GAAQ,KAChF,0BAAMoC,GAAG,aAAatE,UAAU,kBAEhC,2BAAOA,UAAU,gBACjB,2BAAOgC,KAAK,OAAOE,KAAK,MAAMlC,UAAU,0BAA0B8D,UAAQ,EAACC,UAAU,IACjFC,UAAU,MAAMC,YAAY,6CAAUC,SA3BlD,SAAiCC,GAC7BP,EAAeO,EAAEC,OAAOC,QA0ByDA,MAAOV,GAAe,KACnG,0BAAMW,GAAG,YAAYtE,UAAU,mBAGjCmD,OAAUA,EAAQC,QAASA,EAASC,SA3B1C,SAAsBc,GAClBA,EAAEI,iBACFf,EAAa,CACTtB,KAAMA,EACNU,MAAOe,QCKJa,MAtBf,YAA6D,IAAnCrB,EAAkC,EAAlCA,OAAQC,EAA0B,EAA1BA,QAASqB,EAAiB,EAAjBA,eAEjCpD,EAAcP,IAAMQ,WAAWT,GAC/B6D,EAAa5D,IAAM6D,SAOzB,OACI,kBAAC,EAAD,CAAezC,KAAK,SAASe,MAAM,wFAAkBC,QACjD,oCACA,2BAAOlD,UAAU,gBACb,2BAAOgC,KAAK,MAAME,KAAK,MAAMlC,UAAU,mCAAmCiE,YAAY,qGAAqBH,UAAQ,EAACc,aAAcvD,EAAYsB,OAAQkC,IAAKH,IAC3J,0BAAMJ,GAAG,YAAYtE,UAAU,mBAGrCmD,OAAUA,EAAQC,QAASA,EAASC,SAb1C,SAAsBc,GAClBA,EAAEI,iBACFE,EAAeC,EAAWI,QAAQT,WC8B3BU,MAvCf,YAA6D,IAArC5B,EAAoC,EAApCA,OAAQC,EAA4B,EAA5BA,QAAS4B,EAAmB,EAAnBA,iBAAmB,EAEhClE,IAAM2C,SAAS,IAFiB,mBAEjDvB,EAFiD,KAE3CwB,EAF2C,OAGhC5C,IAAM2C,SAAS,IAHiB,mBAGjDxB,EAHiD,KAG3CgD,EAH2C,KAqBxD,OACI,kBAAC,EAAD,CAAe/C,KAAK,MAAMe,MAAM,gEAAcC,QAC1C,oCACA,2BAAOlD,UAAU,gBACb,2BAAOgC,KAAK,OAAOE,KAAK,QAAQlC,UAAU,4BAA4BiE,YAAY,mDAC9EH,UAAQ,EAACC,UAAU,IAAIC,UAAU,KAAKE,SArBtD,SAA0BC,GACtBT,EAAQS,EAAEC,OAAOC,QAoB6DA,MAAOnC,IAC7E,0BAAMoC,GAAG,cAActE,UAAU,kBAErC,2BAAOA,UAAU,gBACb,2BAAOgC,KAAK,MAAME,KAAK,MAAMlC,UAAU,4BACnCiE,YAAY,qGAAqBH,UAAQ,EAACI,SAtB1D,SAA0BC,GACtBc,EAAQd,EAAEC,OAAOC,QAqBiEA,MAAOpC,IACjF,0BAAMqC,GAAG,YAAYtE,UAAU,mBAGrCmD,OAAUA,EAAQC,QAASA,EAASC,SAtB1C,SAAsBc,GAClBA,EAAEI,iBACFS,EAAiB,CACb9C,KAAMA,EACND,KAAMA,QCLHiD,MAbf,YAAsC,IAAjB9B,EAAgB,EAAhBA,QAASnC,EAAO,EAAPA,KAC1B,OACI,6BAASjB,UAAS,2BAAsBiB,EAAKkE,OAAU,iBACvD,yBAAKnF,UAAU,eACX,4BAAQgC,KAAK,SAAShC,UAAU,eAAeY,QAASwC,IACxD,4BAAQpD,UAAU,0BAAyB,yBAAKM,IAAKW,EAAKX,IAAKE,IAAI,GAAGR,UAAU,iBAChF,gCAAYA,UAAU,sBAAsBiB,EAAKiB,U,gBCkK9CkD,EALH,I,WApKR,WAAYC,GAAU,oBAClBC,KAAKC,KAAOF,EAAQG,IACpBF,KAAKG,SAAWJ,EAAQK,Q,yDAGfC,GACT,OAAOC,MAAM,GAAD,OAAIN,KAAKC,KAAT,oBAAiC,CACrCM,OAAQ,QACRH,QAAS,CACLI,cAAeR,KAAKG,SACpB,eAAgB,oBAEpBM,KAAMC,KAAKC,UAAU,CAAE,OAAUN,MAEpCO,MAAK,SAAAC,GACF,OAAIA,EAAIC,GACGD,EAAIE,OAGRC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,wCAI/Bb,GACd,OAAOC,MAAM,GAAD,OAAIN,KAAKC,KAAT,aAA0B,CAC9BM,OAAQ,QACRH,QAAS,CACLI,cAAeR,KAAKG,SACpB,eAAgB,oBAEpBM,KAAMC,KAAKC,UAAU,CACjB/D,KAAK,GAAD,OAAKyD,EAAKzD,MACdU,MAAM,GAAD,OAAK+C,EAAK/C,WAGtBsD,MAAK,SAAAC,GACF,OAAIA,EAAIC,GACGD,EAAIE,OAGRC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,oCAK7C,OAAOZ,MAAM,GAAD,OAAIN,KAAKC,KAAT,aAA0B,CAC9BM,OAAQ,MACRH,QAAS,CACLI,cAAeR,KAAKG,SACpB,eAAgB,sBAGvBS,MAAK,SAAAC,GACF,OAAIA,EAAIC,GACGD,EAAIE,OAGRC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,wCAK7C,OAAOZ,MAAM,GAAD,OAAIN,KAAKC,KAAT,UAAuB,CAC3BM,OAAQ,MACRH,QAAS,CACLI,cAAeR,KAAKG,YAG3BS,MAAK,SAAAC,GACF,OAAIA,EAAIC,GACGD,EAAIE,OAERC,QAAQC,OAAO,IAAIE,MAAJ,gDAAqBN,EAAIK,e,kCAI/CvF,GACR,OAAO2E,MAAM,GAAD,OAAIN,KAAKC,KAAT,UAAuB,CAC3BM,OAAQ,OACRH,QAAS,CACLI,cAAeR,KAAKG,SACpB,eAAgB,oBAEpBM,KAAMC,KAAKC,UAAU,CACjB/D,KAAMjB,EAAKiB,KACXD,KAAMhB,EAAKgB,SAGlBiE,MAAK,SAAAC,GACF,OAAIA,EAAIC,GACGD,EAAIE,OAGRC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,iCAItClC,GACP,OAAOsB,MAAM,GAAD,OAAIN,KAAKC,KAAT,kBAAuBjB,GAAM,CACjCuB,OAAQ,SACRH,QAAS,CACLI,cAAeR,KAAKG,SACpB,eAAgB,sBAGvBS,MAAK,SAAAC,GACF,OAAIA,EAAIC,GACGD,EAAIE,OAGRC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,2CAI5BlC,EAAI3C,GACrB,OAAgB,IAAZA,EACO2D,KAAKoB,SAASpC,GAEdgB,KAAKqB,YAAYrC,K,+BAIvBA,GACL,OAAOsB,MAAM,GAAD,OAAIN,KAAKC,KAAT,wBAA6BjB,GAAM,CACvCuB,OAAQ,MACRH,QAAS,CACLI,cAAeR,KAAKG,YAG3BS,MAAK,SAAAC,GACF,OAAIA,EAAIC,GACGD,EAAIE,OAGRC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,kCAGrClC,GACR,OAAOsB,MAAM,GAAD,OAAIN,KAAKC,KAAT,wBAA6BjB,GAAM,CACvCuB,OAAQ,SACRH,QAAS,CACLI,cAAeR,KAAKG,YAG3BS,MAAK,SAAAC,GACF,OAAIA,EAAIC,GACGD,EAAIE,OAGRC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,mCAK7C,OAAOF,QAAQM,IAAI,CAACtB,KAAKuB,kBAAmBvB,KAAKwB,kB,uCAGpCnB,GACb,GAAIA,EAAKS,GACL,OAAOT,EAAKU,W,KAKZ,CAAQ,CAChBb,IAAK,8CACLE,QAAS,yC,QC7HIqB,MAxCjB,YAA+B,IAAfC,EAAc,EAAdA,YAAc,EAEJlG,IAAM2C,SAAS,CACrCwD,SAAU,GACV9G,MAAO,KAJmB,mBAErBwF,EAFqB,KAEfuB,EAFe,KAO5B,SAASC,EAAahD,GAAI,IAAD,EACDA,EAAEC,OAAjBlC,EADgB,EAChBA,KAAMmC,EADU,EACVA,MACb6C,EAAQ,2BACHvB,GADE,kBAEJzD,EAAOmC,KAUV,OACE,yBAAKrE,UAAU,SACb,uBAAGA,UAAU,kBAAb,4BAGA,0BAAMqD,SAXZ,SAAsBc,GAClBA,EAAEI,iBADmB,IAEhB0C,EAAmBtB,EAAnBsB,SAAU9G,EAASwF,EAATxF,MACf6G,EAAYC,EAAU9G,IAQUH,UAAU,eACtC,2BAAO8D,UAAQ,EAAC9D,UAAU,eAAesE,GAAG,QAAQpC,KAAK,QAAQF,KAAK,QAAQqC,MAAOsB,EAAKxF,OAAS,GAAI+D,SAAUiD,IACjH,2BAAOC,QAAQ,UACf,2BAAOtD,UAAQ,EAAC9D,UAAU,eAAesE,GAAG,WAAWpC,KAAK,WAAWF,KAAK,WAAWqC,MAAOsB,EAAKsB,UAAY,GAAI/C,SAAUiD,IAC7H,2BAAOC,QAAQ,aACf,yBAAKpH,UAAU,2BACb,4BAAQgC,KAAK,SAAShC,UAAU,iBAAhC,sCCWKqH,MA1CjB,YAAqC,IAAlBC,EAAiB,EAAjBA,eAAiB,EAEVxG,IAAM2C,SAAS,CACrCwD,SAAU,GACV9G,MAAO,KAJyB,mBAE3BwF,EAF2B,KAErBuB,EAFqB,KAOlC,SAASC,EAAahD,GAAI,IAAD,EACDA,EAAEC,OAAjBlC,EADgB,EAChBA,KAAMmC,EADU,EACVA,MACb6C,EAAQ,2BACHvB,GADE,kBAEJzD,EAAOmC,KAUZ,OACE,yBAAKrE,UAAU,YACb,uBAAGA,UAAU,qBAAb,sEAGA,0BAAMA,UAAU,iBAAiBqD,SAXrC,SAAsBc,GACpBA,EAAEI,iBADqB,IAElB0C,EAAmBtB,EAAnBsB,SAAU9G,EAASwF,EAATxF,MACfmH,EAAeL,EAAU9G,KASrB,2BAAO2D,UAAQ,EAAC9D,UAAU,kBAAkBsE,GAAG,QAAQpC,KAAK,QAAQF,KAAK,QAAQqC,MAAOsB,EAAKxF,MAAO+D,SAAUiD,IAC9G,2BAAOC,QAAQ,UACf,2BAAOtD,UAAQ,EAAC9D,UAAU,kBAAkBsE,GAAG,WAAWpC,KAAK,WAAWF,KAAK,WAAWqC,MAAOsB,EAAKsB,SAAU/C,SAAUiD,IAC1H,2BAAOC,QAAQ,aACf,yBAAKpH,UAAU,8BACb,4BAAQgC,KAAK,SAAShC,UAAU,oBAAhC,kHAGJ,yBAAKA,UAAU,oBACb,kBAAC,IAAD,CAAMU,GAAG,WAAWV,UAAU,kBAA9B,0JCvBOuH,EAdK,SAAC,GAAuB,IAAtBpE,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,QAC1B,OACI,6BAASpD,UAAS,gBAAWmD,EAAOgC,MAAS,eAAiB,KAC9D,yBAAKnF,UAAU,oBACX,yBAAKA,UAAU,eACX,4BAAQgC,KAAK,SAAShC,UAAU,eAAeY,QAASwC,IACxD,yBAAK5C,IAAI,GAAGR,UAAU,qBAAqBM,IAAK6C,EAAO7C,MACvD,uBAAGN,UAAU,eAAemD,EAAOqE,U,QCGpCC,EATQ,SAAC,GAAyC,IAA5BC,EAA2B,EAAtCC,UAAyBC,EAAa,6BAC9D,OACE,kBAAC,IAAD,MAEI,kBAAyB,IAAnBA,EAAMC,SAAoB,kBAACH,EAAcE,GAAY,kBAAC,IAAD,CAAUlH,GAAG,iBCPnEoH,EAAW,gCAElBC,EAAgB,SAAC5B,GAAD,OAASA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAR,gDAA0BJ,EAAIK,U,kCCkOpEwB,mBAjNf,WAAgB,IAAD,EAEyBlH,IAAM2C,SAAS,IAFxC,mBAENpC,EAFM,KAEO4G,EAFP,OAGanH,IAAM2C,SAAS,IAH5B,mBAGNjB,EAHM,KAGC0F,EAHD,OAIwCpH,IAAM2C,UAAS,GAJvD,mBAIN0E,EAJM,KAIcC,EAJd,OAKiCtH,IAAM2C,UAAS,GALhD,mBAKN4E,EALM,KAKUC,EALV,OAMsCxH,IAAM2C,UAAS,GANrD,mBAMN8E,EANM,KAMaC,EANb,OAO2B1H,IAAM2C,SAAS,CAAC0B,OAAM,EAAO7E,IAAK,KAP7D,mBAONmI,EAPM,KAOQC,EAPR,OAQmC5H,IAAM2C,SAAS,CAAC0B,OAAO,EAAOqC,KAAM,GAAIlH,IAAK,KARhF,mBAQNqI,EARM,KAQcC,EARd,OASmB9H,IAAM2C,UAAS,GATlC,mBASNoE,EATM,KASIgB,EATJ,KAUPC,GAAUC,cAmBhB,SAASC,KACPZ,GAAuB,GACvBE,GAAoB,GACpBE,GAAsB,GACtBI,GAAkB,GAClBF,EAAgB,CAACvD,OAAM,IAqJzB,OAvFArE,IAAM+C,WAAU,WACduB,EAAI6D,aACC/C,MAAK,SAACP,GAEH,IAAMuD,EAAY,CACdhH,MAFJyD,EAAO,CAACnD,MAAOmD,EAAK,GAAGwD,KAAMxD,EAAK,KAEnBwD,KAAKjH,KAChBU,MAAO+C,EAAKwD,KAAKvG,MACjBD,OAAQgD,EAAKwD,KAAKxG,OAClBlB,IAAKkE,EAAKwD,KAAK1H,KAEb2H,EAAYzD,EAAKnD,MAAMK,KAAI,SAACC,GAAD,MAAW,CAC1CrB,IAAKqB,EAAKrB,IACVS,KAAMY,EAAKZ,KACXN,MAAOkB,EAAKlB,MACZK,KAAMa,EAAKb,KACXT,MAAOsB,EAAKtB,UAEdyG,EAAeiB,GACfhB,EAASkB,MAEZC,OAAM,SAACC,GACJC,QAAQC,IAAIF,QAEpB,IAEFxI,IAAM+C,WAAU,YA4ChB,WACE,IAAM4F,EAAQrJ,aAAaC,QAAQ,UD1Jb,SAACoJ,GACvB,OAAO7D,MAAM,GAAD,OAAIkC,EAAJ,aAAyB,CACjCjC,OAAQ,MACRH,QAAS,CACL,eAAgB,mBAChB,+BAA4B+D,MAGnCvD,KAAK6B,ICmJN2B,CAAqBD,GACpBvD,MAAK,SAAAC,GACDA,EAAIR,KAAKxF,QACV0I,GAAY,GACZC,GAAQa,KAAK,SAGhBN,OAAM,SAAAC,GAAG,OAAIC,QAAQK,MAAMN,MApD5BO,KACA,IA6DF,kBAAChJ,EAAmBiJ,SAApB,CAA6BzF,MAAOhD,GAClC,kBAAC,EAAD,CAAQnB,YARgB,WACxBE,aAAa2J,MAAM,SACnB3J,aAAa2J,MAAM,SACnBlB,GAAY,IAK4BmB,SAAU,mCAClD,kBAAC,IAAD,KACE,kBAAC,EAAD,CAAgBrJ,OAAK,EAACF,KAAK,IAAIoH,SAAUA,EAAUF,UAAWvF,EAAMC,cA3KxE,WACE+F,GAAuB,IA0KsF9F,WAvK/G,WACEgG,GAAoB,IAsKyH/F,aAnK/I,WACEiG,GAAsB,IAkK4JtH,YA/KpL,SAAyB0G,GACvBc,EAAgB,CAACvD,OAAO,EAAM7E,IAAKsH,EAAM3F,KAAMC,KAAM0F,EAAM1F,QA+K3DM,MAAOA,EAAOrB,WAjIhB,SAAwBF,GACtB,IAAMU,EAAUV,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,EAAYI,OAE3D2D,EAAI6E,qBAAqBhJ,EAAKQ,KAAME,GACnCuE,MAAK,SAACgE,GACL,IAAMC,EAAW3H,EAAMK,KAAI,SAACuH,GAAD,OAAOA,EAAE3I,MAAQR,EAAKQ,IAAMyI,EAAUE,KACjElC,EAASiC,MAEVd,OAAM,SAACC,GACNC,QAAQC,IAAIF,OAwH4BlI,aApH5C,SAA0BH,GACxBmE,EAAIiF,WAAWpJ,EAAKQ,KACnByE,MAAK,WACJ,IAAMiE,EAAW3H,EAAM8H,QAAO,SAACxH,GAC7B,OAAOA,EAAKrB,MAAQR,EAAKQ,OAEzByG,EAASiC,MAEZd,OAAM,SAACC,GACNC,QAAQC,IAAIF,SA4GZ,kBAAC,IAAD,CAAO7I,KAAK,YACV,kBAAC,EAAD,CAAOuG,YAtCb,SAA0BC,EAAU9G,ID1JT,SAAC8G,EAAU9G,GACpC,OAAOyF,MAAM,GAAD,OAAIkC,EAAJ,WAAuB,CAC/BjC,OAAQ,OACRH,QAAS,CACL,eAAgB,oBAEpBK,KAAMC,KAAKC,UAAU,CACjB,SAAW,GAAX,OAAegB,GACf,MAAQ,GAAR,OAAY9G,OAGnB+F,KAAK6B,ICgJN2B,CAAwBzC,EAAU9G,GAC/B+F,MAAK,SAAAP,GACDA,EAAK8D,QACNrJ,aAAamK,QAAQ,QAAS5E,EAAK8D,OACnCZ,GAAY,GACZC,GAAQa,KAAK,SAIhBN,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,UA8B1B,kBAAC,IAAD,CAAO7I,KAAK,YACV,kBAAC,EAAD,CAAU6G,eApEhB,SAA6BL,EAAU9G,ID5IjB,SAAC8G,EAAU9G,GAC/B,OAAOyF,MAAM,GAAD,OAAIkC,EAAJ,WAAuB,CAC/BjC,OAAQ,OACRH,QAAS,CACL,eAAgB,oBAEpBK,KAAMC,KAAKC,UAAU,CACjB,SAAW,GAAX,OAAegB,GACf,MAAQ,GAAR,OAAY9G,OAEnB+F,KAAK6B,ICmIN2B,CAAmBzC,EAAU9G,GAC1B+F,MAAK,SAAAP,GACAA,IACFvF,aAAamK,QAAQ,QAAS5E,EAAKA,KAAKxF,OACxC8H,EAAe,2BACV5G,GADS,IAEZlB,MAAOwF,EAAKA,KAAKxF,SAEnByI,EAAkB,CAChBzD,OAAO,EACPqC,KAAM,wKACNlH,IAAKkK,MAEP1B,GAAQa,KAAK,gBAGhBN,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZV,EAAkB,CAChBzD,OAAO,EACPqC,KAAM,sMACNlH,IAAKsJ,aAgDT,kBAAC,IAAD,KACG/B,EAAW,kBAAC,IAAD,CAAUnH,GAAG,MAAS,kBAAC,IAAD,CAAUA,GAAG,eAGnD,kBAAC,EAAD,MACA,kBAAC,EAAD,CAAiByC,OAAQgF,EAAmB/E,QAAS4F,GAAgBxF,aAnKvE,YAA0C,IAAftB,EAAc,EAAdA,KAAMU,EAAQ,EAARA,MAC/BwC,EAAIqF,kBAAkB,CAACvI,OAAMU,UAC5BsD,MAAK,SAACiD,GACLlB,EAAekB,GACfH,QAEDK,OAAM,SAACC,GACNC,QAAQC,IAAIF,SA6Jd,kBAAC,EAAD,CAAiBnG,OAAQoF,EAAkBnF,QAAS4F,GAAgBvE,eAzJtE,SAA4B9B,GAC1ByC,EAAIsF,aAAa/H,GAChBuD,MAAK,SAACvD,GACNsF,EAAetF,GACfqG,QAEAK,OAAM,SAACC,GACNC,QAAQC,IAAIF,SAmJd,kBAAC,EAAD,CAAenG,OAAQkF,EAAejF,QAAS4F,GAAgBhE,iBArHjE,SAA8B/D,GAC5BmE,EAAIuF,YAAY1J,GACfiF,MAAK,SAACgE,GACLhC,EAAS,CAACgC,GAAF,mBAAc1H,KACtBwG,QAEDK,OAAM,SAACC,GACNC,QAAQC,IAAIF,SA+Gd,kBAAC,EAAD,CAAYrI,KAAMwH,EAAcrF,QAAS4F,KACzC,kBAAC,EAAD,CAAa7F,OAASwF,EAAmBvF,QAAS4F,SCzNtD4B,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,KACE,kBAAC,EAAD,QAGJC,SAASC,eAAe,W","file":"static/js/main.96e01b1f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.d3d4a407.svg\";","module.exports = __webpack_public_path__ + \"static/media/success.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/error.4072126c.svg\";","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return(\r\n        <footer className=\"footer root__content\">\r\n        <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import React from 'react';\r\nimport { Link, Route } from 'react-router-dom';\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header({onLinkClick}) {\r\n    const email = localStorage.getItem('email')\r\n    return (\r\n        <header className=\"header root__content\">\r\n        <div className=\"header__menu\">\r\n            <img src={logo} alt=\"\" className=\"header__logo\"/>\r\n            <div className=\"header__profile\">\r\n                <p className=\"header__email\">{email}</p>\r\n                <Route path=\"/sign-up\">\r\n                    <Link className=\"header__link\" to=\"/sign-in\">Войти</Link>\r\n                </Route>\r\n                <Route path=\"/sign-in\">\r\n                    <Link className=\"header__link\" to=\"/sign-up\">Регистрация</Link>\r\n                </Route>\r\n                <Route exact path=\"/\">\r\n                    <Link className=\"header__link\" to=\"/sign-in\" onClick={onLinkClick}>Выйти</Link>\r\n                </Route>\r\n            </div>\r\n        </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nconst Card = ({card, onCardClick, onCardLike, onCardDelete}) => {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `cards__trash ${isOwn ? '' : 'cards__trash_hidden'}`\r\n    ); \r\n    \r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `cards__like ${isLiked ? 'cards__like_active' : ''}`\r\n    )\r\n\r\n    function handleClick() {\r\n        onCardClick(card);\r\n    }\r\n    \r\n    function handleLikeClick() {\r\n        onCardLike(card)\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        onCardDelete(card)\r\n    } \r\n\r\n    return (\r\n        <div className=\"cards\">\r\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n            <img src={`${card.link}`} alt=\"\" className=\"cards__photo\" onClick={handleClick}/>\r\n            <h2 className=\"cards__name\">{card.name}</h2>\r\n            <div className=\"cards__like-container\"> \r\n                <button className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n                <span className=\"cards__like-counter\">{card.likes.length}</span> \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card","import React from 'react';\r\nimport Card from './Card.js';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nconst Main = ({onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete}) => {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n    return(\r\n        <main className=\"main root__content\">\r\n        <section className=\"profile\">\r\n            <div className=\"profile__section\">\r\n                <div className=\"profile__avatar\" onClick={onEditAvatar}><img style={{ backgroundImage: `url(${currentUser.avatar})` }} alt=\"\" className=\"profile__image\"/></div>\r\n                <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                <p className=\"profile__job\">{currentUser.about}</p>\r\n                <button className=\"profile__edit \" onClick={onEditProfile}></button>\r\n            </div>\r\n            <button className=\"profile__add\" onClick={onAddPlace}></button>\r\n        </section>\r\n        <section className=\"grid\">\r\n            {cards.map(item => <Card key={item._id} card={item} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete}/>)}\r\n        </section>\r\n    </main>\r\n    )\r\n}\r\n\r\nexport default Main","import React from 'react';\r\n\r\nconst PopupWithForm = ({name, title, cildren, isOpen, onClose, onSubmit}) => {\r\n    return (<section className={`popup popup-${name} ${isOpen ? (\"popup_opened\"):(\"\")}`}>\r\n        <div className=\"popup__container\">\r\n            <button type=\"button\" className=\"popup__close\" onClick={onClose}></button>\r\n            <form className=\"popup__form\" name={name} noValidate onSubmit={onSubmit}>\r\n                <h3 className=\"popup__title popup__profile-title\">{title}</h3>\r\n                {cildren}\r\n                <button type=\"submit\" className=\"popup__button\">Сохранить</button>\r\n            </form>\r\n        </div>\r\n    </section>)\r\n}\r\n\r\nexport default PopupWithForm","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState(CurrentUserContext.name);\r\n    const [description, setDescription] = React.useState(CurrentUserContext.about);\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function handleDescriptionChange(e) {\r\n        setDescription(e.target.value)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n            name: name,\r\n            about: description\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n      }, [currentUser]); \r\n\r\n    return (\r\n        <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" cildren={\r\n            <>\r\n            <label className=\"popup__label\">\r\n            <input type=\"text\" name=\"name\" className=\"popup__input popup__name\" required minLength=\"2\"\r\n                maxLength=\"40\" placeholder=\"Имя\" onChange={handleNameChange} value={name || ''}/>\r\n            <span id=\"name-error\" className=\"popup__error\"></span>\r\n            </label>\r\n            <label className=\"popup__label\">\r\n            <input type=\"text\" name=\"job\" className=\"popup__input popup__job\" required minLength=\"2\"\r\n                maxLength=\"200\" placeholder=\"Занятие\" onChange={handleDescriptionChange} value={description || ''}/>\r\n            <span id=\"job-error\" className=\"popup__error\"></span>\r\n            </label>\r\n            </>\r\n        } isOpen = {isOpen} onClose={onClose} onSubmit={handleSubmit}/>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const userAvatar = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateAvatar(userAvatar.current.value)\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" cildren={\r\n            <>\r\n            <label className=\"popup__label\">\r\n                <input type=\"url\" name=\"url\" className=\"popup__input popup__avatar-links\" placeholder=\"Ссылка на аватарку\" required defaultValue={currentUser.avatar} ref={userAvatar}/>\r\n                <span id=\"url-error\" className=\"popup__error\"></span>\r\n            </label>\r\n            </>\r\n        } isOpen = {isOpen} onClose={onClose} onSubmit={handleSubmit}/>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onAddPlaseSubmit}) {\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function handleLinkChange(e) {\r\n        setLink(e.target.value)\r\n    }\r\n    \r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlaseSubmit({\r\n            name: name,\r\n            link: link\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"add\" title=\"Новое место\" cildren={\r\n            <>\r\n            <label className=\"popup__label\">\r\n                <input type=\"text\" name=\"mesto\" className=\"popup__input popup__mesto\" placeholder=\"Название\"\r\n                    required minLength=\"1\" maxLength=\"30\" onChange={handleNameChange} value={name}/>\r\n                <span id=\"mesto-error\" className=\"popup__error\"></span>\r\n            </label>\r\n            <label className=\"popup__label\">\r\n                <input type=\"url\" name=\"url\" className=\"popup__input popup__links\"\r\n                    placeholder=\"Ссылка на картинку\" required onChange={handleLinkChange} value={link}/>\r\n                <span id=\"url-error\" className=\"popup__error\"></span>\r\n            </label>\r\n            </>\r\n        } isOpen = {isOpen} onClose={onClose} onSubmit={handleSubmit}/>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction ImagePopup({onClose, card}) {\r\n    return (\r\n        <section className={`popup popup-card ${card.state && (\"popup_opened\")}`}>\r\n        <div className=\"popup__form\">\r\n            <button type=\"button\" className=\"popup__close\" onClick={onClose}></button>\r\n            <figure className=\"popup__image-container\"><img src={card.src} alt=\"\" className=\"popup__image\"/>\r\n            <figcaption className=\"popup__image-title\">{card.name}</figcaption>\r\n            </figure>\r\n        </div>\r\n    </section>\r\n    )\r\n}\r\n\r\nexport default ImagePopup","class Api {\r\n    constructor(options) {\r\n        this._url = options.url\r\n        this._headers = options.headers\r\n    }\r\n\r\n    updateAvatar(data) {\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n                method: \"PATCH\",\r\n                headers: {\r\n                    authorization: this._headers,\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ \"avatar\": data }),\r\n            })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n\r\n    updateProfileInfo(data) {\r\n        return fetch(`${this._url}/users/me`, {\r\n                method: \"PATCH\",\r\n                headers: {\r\n                    authorization: this._headers,\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    name: `${data.name}`,\r\n                    about: `${data.about}`\r\n                }),\r\n            })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this._url}/users/me`, {\r\n                method: \"GET\",\r\n                headers: {\r\n                    authorization: this._headers,\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._url}/cards`, {\r\n                method: \"GET\",\r\n                headers: {\r\n                    authorization: this._headers\r\n                }\r\n            })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n                return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n            })\r\n    }\r\n\r\n    postNewCard(card) {\r\n        return fetch(`${this._url}/cards`, {\r\n                method: \"POST\",\r\n                headers: {\r\n                    authorization: this._headers,\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    name: card.name,\r\n                    link: card.link\r\n                }),\r\n            })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._url}/cards/${id}`, {\r\n                method: \"DELETE\",\r\n                headers: {\r\n                    authorization: this._headers,\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n\r\n    changeLikeCardStatus(id, isLiked) {\r\n        if (isLiked === true) {\r\n            return this._addLike(id);\r\n        } else {\r\n            return this._deliteLike(id);\r\n        }\r\n    }\r\n\r\n    _addLike(id) {\r\n        return fetch(`${this._url}/cards/likes/${id}`, {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    authorization: this._headers,\r\n                }\r\n            })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n    _deliteLike(id) {\r\n        return fetch(`${this._url}/cards/likes/${id}`, {\r\n                method: \"DELETE\",\r\n                headers: {\r\n                    authorization: this._headers,\r\n                }\r\n            })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            })\r\n    }\r\n\r\n    getAppInfo() {\r\n        return Promise.all([this.getInitialCards(), this.getUserInfo()]);\r\n    }\r\n\r\n    _getResponseData(data) {\r\n        if (data.ok) {\r\n            return data.json()\r\n        }\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    url: 'https://mesto.nomoreparties.co/v1/cohort-15',\r\n    headers: '8ba8ee25-f796-4e6c-83bd-8c6087015f7d'\r\n})\r\n\r\nexport default api","import React from 'react';\n\nfunction Login({handleLogin}) {\n\n  const [data, setData] = React.useState({\n    password: '',\n    email: ''\n  })\n\n  function handleChange(e) {\n    const {name, value} = e.target;\n    setData({\n      ...data,\n      [name]: value\n    })\n  }\n\n  function handleSubmit(e) {\n      e.preventDefault();\n      let {password, email} = data\n      handleLogin(password, email)\n    }\n\n    return (\n      <div className=\"login\">\n        <p className=\"login__welcome\">\n          Вход\n        </p>\n        <form onSubmit={handleSubmit} className=\"login__form\">\n          <input required className=\"login__input\" id=\"email\" name=\"email\" type=\"email\" value={data.email || ''} onChange={handleChange} />\n          <label htmlFor=\"email\"></label>\n          <input required className=\"login__input\" id=\"password\" name=\"password\" type=\"password\" value={data.password || ''} onChange={handleChange} />\n          <label htmlFor=\"password\"></label>\n          <div className=\"login__button-container\">\n            <button type=\"submit\" className=\"login__button\" >Войти</button>\n          </div>\n        </form>\n      </div>\n    )\n\n  }\n  \n  export default Login;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Register({handleRegister}) {\n    \n  const [data, setData] = React.useState({\n    password: '',\n    email: ''\n  })\n\n  function handleChange(e) {\n    const {name, value} = e.target;\n    setData({\n      ...data,\n      [name]: value\n    })\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    let {password, email} = data\n    handleRegister(password, email)\n  }\n\n  return(\n    <div className=\"register\">\n      <p className=\"register__welcome\">\n        Регистрация\n      </p>\n      <form className=\"register__form\" onSubmit={handleSubmit}>\n        <input required className=\"register__input\" id=\"email\" name=\"email\" type=\"email\" value={data.email} onChange={handleChange} />\n        <label htmlFor=\"email\"></label>\n        <input required className=\"register__input\" id=\"password\" name=\"password\" type=\"password\" value={data.password} onChange={handleChange} />\n        <label htmlFor=\"password\"></label>\n        <div className=\"register__button-container\">\n          <button type=\"submit\" className=\"register__button\" >Зарегистрироваться</button>\n        </div>\n      </form>\n      <div className=\"register__signin\">\n        <Link to=\"/sign-in\" className=\"register__link\">Уже зарегистрированы? Войти</Link>\n      </div>\n    </div>\n  )\n}\n  \n  export default Register;","import React from 'react';\n\nconst InfoTooltip = ({isOpen, onClose}) => {\n    return (\n        <section className={`popup ${isOpen.state ? (\"popup_opened\"):(\"\")}`}>\n        <div className=\"popup__container\">\n            <div className=\"popup__form\">\n                <button type=\"button\" className=\"popup__close\" onClick={onClose}></button>\n                <img alt=\"\" className=\"popup__error-image\" src={isOpen.src}></img>\n                <p className=\"popup__text\">{isOpen.text}</p>\n            </div>\n        </div>\n        </section>\n    )\n}\n\nexport default InfoTooltip","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nconst checkResponce = (res) => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\n\nexport const register = (password, email) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            \"password\": `${password}`,\n            \"email\": `${email}`})\n    })\n    .then(checkResponce)\n};\n\nexport const authorization = (password, email) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            \"Content-Type\": \"application/json\" \n        },\n        body: JSON.stringify({\n            \"password\": `${password}`,\n            \"email\": `${email}`\n        })\n    })\n    .then(checkResponce)\n}\n\nexport const getContent = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\" : `Bearer ${token}`\n        }\n    })\n    .then(checkResponce)\n}","import React from 'react';\nimport { Route, Redirect, Switch, useHistory, withRouter } from 'react-router-dom';\nimport Footer from './Footer';\nimport Header from './Header';\nimport Main from './Main';\nimport EditPofilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\nimport * as mestoAuth from '../utils/mestoAuth';\nimport success from '../images/success.svg';\nimport error from '../images/error.svg';\n\nfunction App() {\n\n  const [currentUser, setCurrentUser] = React.useState('');\n  const [cards, setCards] = React.useState([]);\n  const [editProfileIsOpen , isEditProfilePopupOpen] = React.useState(false)\n  const [addCardIsOpen , isAddPlacePopupOpen] = React.useState(false)\n  const [editAvatarIsOpen , isEditAvatarPopupOpen] = React.useState(false)\n  const [selectedCard, setSelectedCard] = React.useState({state:false, src: ''});\n  const [infoTooltipIsOpen , isinfoTooltipOpen] = React.useState({state: false, text: '', src: ''})\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const history = useHistory();\n\n  function handleCardClick(props) {\n    setSelectedCard({state: true, src: props.link, name: props.name})\n  }\n\n  function handleEditProfileClick() {\n    isEditProfilePopupOpen(true)\n  }\n\n  function handleAddCardClick() {\n    isAddPlacePopupOpen(true)\n  }\n\n  function handleEditAvatarClick() {\n    isEditAvatarPopupOpen(true)\n  }\n\n  \n  function closeAllPopups() {\n    isEditProfilePopupOpen(false)\n    isAddPlacePopupOpen(false)\n    isEditAvatarPopupOpen(false)\n    isinfoTooltipOpen(false)\n    setSelectedCard({state:false})\n  }\n\n  function handleUpdateUser({name, about}) {\n    api.updateProfileInfo({name, about})\n    .then((user) => {\n      setCurrentUser(user)\n      closeAllPopups()\n    })\n    .catch((err) => {\n      console.log(err)\n    })   \n  }\n\n  function handleUpdateAvatar(avatar) {\n    api.updateAvatar(avatar)\n    .then((avatar) => {\n     setCurrentUser(avatar)\n     closeAllPopups()\n    })\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    api.changeLikeCardStatus(card._id, !isLiked)\n    .then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n  \n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n    .then(() => {\n      const newCards = cards.filter((item) => {\n        return item._id !== card._id\n      });\n        setCards(newCards);\n      })\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n  \n  function handleAddPlaceSubmit(card) {\n    api.postNewCard(card)\n    .then((newCard) => {\n      setCards([newCard, ...cards])\n      closeAllPopups()\n    })\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n  \n  React.useEffect(() => {\n    api.getAppInfo()\n        .then((data) => {\n            data = {cards: data[0],user: data[1]}\n            const userInfo = ({\n                name: data.user.name,\n                about: data.user.about,\n                avatar: data.user.avatar,\n                _id: data.user._id\n            })\n            const cardsList = data.cards.map((item) => ({\n              _id: item._id,\n              name: item.name,\n              likes: item.likes,\n              link: item.link,\n              owner: item.owner\n            }))\n            setCurrentUser(userInfo)\n            setCards(cardsList)\n        })\n        .catch((err) => {\n            console.log(err)\n        })\n  },[])\n\n  React.useEffect(() => {\n    tokenCheck()\n  },[])\n\n  function handleRegisterClick(password, email) {\n    mestoAuth.register(password, email)\n      .then(data => {\n        if (data) {\n          localStorage.setItem('email', data.data.email)\n          setCurrentUser({\n            ...currentUser,\n            email: data.data.email\n          })\n          isinfoTooltipOpen({\n            state: true,\n            text: 'Вы успешно зарегистрировались!',\n            src: success\n          })\n          history.push('/sign-in')\n        }\n      })\n      .catch(err => {\n        console.log(err)\n        isinfoTooltipOpen({\n          state: true,\n          text: 'Что-то пошло не так! Попробуйте ещё раз.',\n          src: error\n        })\n      })\n  }\n\n  function handleLoginClick(password, email) {\n    mestoAuth.authorization(password, email)\n      .then(data => {\n        if(data.token) {\n          localStorage.setItem('token', data.token)\n          setLoggedIn(true)\n          history.push('/')\n        }\n        \n      })\n      .catch(err => console.log(err));\n  }\n\n  function tokenCheck() {\n    const token = localStorage.getItem('token')\n    mestoAuth.getContent(token)\n    .then(res => {\n      if(res.data.email) {\n        setLoggedIn(true)\n        history.push('/')\n      }\n    })\n    .catch(err => console.error(err))\n  }\n\n  const handleLogoutClick = () => {\n    localStorage.clear('token')\n    localStorage.clear('email')\n    setLoggedIn(false)\n  }\n\n  return (\n  <CurrentUserContext.Provider value={currentUser}>\n    <Header onLinkClick={handleLogoutClick} linkText={'Выйти'}/>\n    <Switch>\n      <ProtectedRoute exact path=\"/\" loggedIn={loggedIn} component={Main} onEditProfile={handleEditProfileClick} onAddPlace={handleAddCardClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} \n    cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete}/>\n      <Route path=\"/sign-in\">\n        <Login handleLogin={handleLoginClick}/>\n      </Route>\n      <Route path=\"/sign-up\">\n        <Register handleRegister={handleRegisterClick}/>\n      </Route>\n      <Route>\n        {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n      </Route>\n    </Switch>\n    <Footer />\n    <EditPofilePopup isOpen={editProfileIsOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\n    <EditAvatarPopup isOpen={editAvatarIsOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n    <AddPlacePopup isOpen={addCardIsOpen} onClose={closeAllPopups} onAddPlaseSubmit={handleAddPlaceSubmit}/>\n    <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n    <InfoTooltip isOpen ={infoTooltipIsOpen} onClose={closeAllPopups}/>\n  </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App/>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}